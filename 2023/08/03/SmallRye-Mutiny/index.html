<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>SmallRye Mutiny(响应式编程库) | 霖霖的博客</title><meta name="author" content="霖霖"><meta name="copyright" content="霖霖"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="java响应式编程库SmallRye Mutiny学习1234Uni.createFrom().item(&quot;hello&quot;)                .onItem().transform(item -&gt; item + &quot; world mutiny&quot;)                .onItem().transform(String::toUpp">
<meta property="og:type" content="article">
<meta property="og:title" content="SmallRye Mutiny(响应式编程库)">
<meta property="og:url" content="https://aojiaoxiaolinlin.github.io/2023/08/03/SmallRye-Mutiny/index.html">
<meta property="og:site_name" content="霖霖的博客">
<meta property="og:description" content="java响应式编程库SmallRye Mutiny学习1234Uni.createFrom().item(&quot;hello&quot;)                .onItem().transform(item -&gt; item + &quot; world mutiny&quot;)                .onItem().transform(String::toUpp">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg">
<meta property="article:published_time" content="2023-08-03T13:37:49.000Z">
<meta property="article:modified_time" content="2024-06-22T11:09:55.482Z">
<meta property="article:author" content="霖霖">
<meta property="article:tag" content="响应式编程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://aojiaoxiaolinlin.github.io/2023/08/03/SmallRye-Mutiny/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SmallRye Mutiny(响应式编程库)',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-06-22 19:09:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = 'hidden';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}

preloader.initLoading()
window.addEventListener('load',()=> { preloader.endLoading() })

if (false) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2023/05/02/a6f2b4f9a3684694824b18892588c9e3file.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="霖霖的博客"><span class="site-name">霖霖的博客</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SmallRye Mutiny(响应式编程库)</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-03T13:37:49.000Z" title="发表于 2023-08-03 21:37:49">2023-08-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-06-22T11:09:55.482Z" title="更新于 2024-06-22 19:09:55">2024-06-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SmallRye Mutiny(响应式编程库)"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="java响应式编程库SmallRye-Mutiny学习"><a href="#java响应式编程库SmallRye-Mutiny学习" class="headerlink" title="java响应式编程库SmallRye Mutiny学习"></a>java响应式编程库SmallRye Mutiny学习</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Uni.createFrom().item(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">                .onItem().transform(item -&gt; item + <span class="string">&quot; world mutiny&quot;</span>)</span><br><span class="line">                .onItem().transform(String::toUpperCase)</span><br><span class="line">                .subscribe().with(item -&gt; System.out.println(<span class="string">&quot;item = &quot;</span> + item));</span><br></pre></td></tr></table></figure>

<ul>
<li>与上面等价，但是不推荐，推荐链式调用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;String&gt; uni1 = Uni.createFrom().item(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">Uni&lt;String&gt; uni2 = uni1.onItem().transform(item -&gt; item + <span class="string">&quot; mutiny&quot;</span>);</span><br><span class="line">Uni&lt;String&gt; uni3 = uni2.onItem().transform(String::toUpperCase);</span><br><span class="line">uni3.subscribe().with(item -&gt; System.out.println(<span class="string">&quot;&gt;&gt; &quot;</span> + item));</span><br></pre></td></tr></table></figure>

<p>订阅的不是变换后的结果</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;String&gt; uni = Uni.createFrom().item(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">uni.onItem().transform(item -&gt; item + <span class="string">&quot; world mutiny&quot;</span>);</span><br><span class="line">uni.subscribe().with(item -&gt; System.out.println(<span class="string">&quot;item = &quot;</span> + item));</span><br></pre></td></tr></table></figure>

<h2 id="创建item"><a href="#创建item" class="headerlink" title="创建item"></a>创建item</h2><h3 id="1-Creating-Unis-from-items"><a href="#1-Creating-Unis-from-items" class="headerlink" title="1.Creating Unis from items"></a>1.Creating Unis from items</h3><p>1、根据已知的值创建Uni</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;Integer&gt; uni4 = Uni.createFrom().item(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<p>2、根据<code>Supplier</code>创建<code>Uni</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">AtomicInteger</span> <span class="variable">atomicInteger</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>();</span><br><span class="line">Uni&lt;Integer&gt; uni6 = Uni.createFrom().item(atomicInteger::incrementAndGet);</span><br><span class="line">uni4.subscribe().with(item -&gt; System.out.println(<span class="string">&quot;item = &quot;</span> + item), failure -&gt; System.out.println(<span class="string">&quot;failure = &quot;</span> + failure));</span><br></pre></td></tr></table></figure>

<h3 id="Creating-failing-Unis"><a href="#Creating-failing-Unis" class="headerlink" title="Creating failing Unis"></a>Creating failing Unis</h3><p>3、根据已知的异常创建Uni</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;Integer&gt; failure = Uni.createFrom().failure(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;boom&quot;</span>));</span><br><span class="line">Uni&lt;Integer&gt; failure1 = Uni.createFrom().failure(() -&gt; <span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;boom&quot;</span>));</span><br></pre></td></tr></table></figure>

<h4 id="Creating-Uni-lt-Void-gt"><a href="#Creating-Uni-lt-Void-gt" class="headerlink" title="Creating Uni&lt;Void&gt;"></a>Creating <code>Uni&lt;Void&gt;</code></h4><p>When the represented operation to not produce a result,<br>you still need a way to indicate the operation’s completion. For this, you need to emit a null item:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;Void&gt; voidUni = Uni.createFrom().voidItem();</span><br><span class="line">Uni&lt;Object&gt; nullUni = Uni.createFrom().nullItem();</span><br></pre></td></tr></table></figure>

<h4 id="creating-Unis-using-an-emitter"><a href="#creating-Unis-using-an-emitter" class="headerlink" title="creating Unis using an emitter"></a>creating Unis using an emitter</h4><p>可以使用emitter创建。此方法在集成基于回调的API时非常有用：<br>emitter也可以发送故障。它还可以收到取消通知，例如停止正在进行的工作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;Object&gt; emitterUni = Uni.createFrom().emitter(emitter -&gt; emitter.complete(<span class="string">&quot;hello&quot;</span>));</span><br></pre></td></tr></table></figure>

<h4 id="Creating-Unis-from-CompletionStage"><a href="#Creating-Unis-from-CompletionStage" class="headerlink" title="Creating Unis from CompletionStage"></a>Creating Unis from CompletionStage</h4><p>Uni可以从CompletionStage创建<br>You can also Uni objects from CompletionStage &#x2F; CompletableFuture.<br>This is useful when integrating with APIs that are based on these types:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;String&gt; uni7 = Uni.createFrom().completionStage(stage);</span><br><span class="line"><span class="comment">// 可以使用下面的创建CompletionStage</span></span><br><span class="line">CompletableFuture&lt;String&gt; completionStage = uni.subscribe().asCompletionStage();</span><br><span class="line"></span><br><span class="line">Uni.createFrom().completionStage(completionStage);</span><br></pre></td></tr></table></figure>

<h2 id="创建items"><a href="#创建items" class="headerlink" title="创建items"></a>创建items</h2><h3 id="Creating-Multi-pipelines"><a href="#Creating-Multi-pipelines" class="headerlink" title="Creating Multi pipelines"></a>Creating Multi pipelines</h3><p>Multi表示数据流。流可以发出0、1、n或无限多个项。</p>
<ol>
<li>emits 0…n items</li>
<li>emits a failure event</li>
<li>emits a completion event 为有界流发出完成事件</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Multi.createFrom().items(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>)</span><br><span class="line">        .onItem().transform(i -&gt; i * <span class="number">2</span>)</span><br><span class="line">        .select().first(<span class="number">3</span>)</span><br><span class="line">        .onFailure().recoverWithItem(<span class="number">0</span>)</span><br><span class="line">        .subscribe().with(System.out::println);</span><br><span class="line"><span class="comment">// 订阅时，可以传递一个项回调（在发出项时调用），</span></span><br><span class="line"><span class="comment">// 或传递两个回调，一个接收项，一个接收失败，</span></span><br><span class="line"><span class="comment">// 或传递三个回调，分别处理项、失败和完成事件。</span></span><br><span class="line">Multi&lt;Integer&gt; multi = Multi.createFrom().items(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">        .onItem().transform(i -&gt; i + <span class="number">2</span>)</span><br><span class="line">        .select().first(<span class="number">2</span>);</span><br><span class="line"><span class="comment">// Note the returned Cancellable: this object allows canceling the stream if need be.</span></span><br><span class="line"><span class="comment">// 通过Cancellable对象可以取消流</span></span><br><span class="line"><span class="type">Cancellable</span> <span class="variable">cancellable</span> <span class="operator">=</span> multi</span><br><span class="line">        .subscribe().with(</span><br><span class="line">                System.out::println,</span><br><span class="line">                failure -&gt; System.out.println(<span class="string">&quot;Failed with &quot;</span> + failure),</span><br><span class="line">                () -&gt; System.out.println(<span class="string">&quot;Completed&quot;</span>));</span><br><span class="line"></span><br><span class="line">Multi&lt;Integer&gt; multiFromItems = Multi.createFrom().items(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">Multi&lt;Integer&gt; multiFromIterable = Multi.createFrom().iterable(Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// You can also use Suppliers</span></span><br><span class="line"><span class="type">AtomicInteger</span> <span class="variable">counter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>();</span><br><span class="line">Multi&lt;Integer&gt; integerMulti = Multi.createFrom()</span><br><span class="line">        .items(() -&gt;</span><br><span class="line">                IntStream.range(counter.getAndIncrement(), counter.get() * <span class="number">2</span>).boxed());</span><br><span class="line"><span class="comment">// You can create ranges using</span></span><br><span class="line">Multi&lt;Integer&gt; multiFromRange = Multi.createFrom().range(<span class="number">1</span>, <span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Creating-failing-Multis"><a href="#Creating-failing-Multis" class="headerlink" title="Creating failing Multis"></a>Creating failing Multis</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Multi&lt;Integer&gt; multiFromFailure = Multi.createFrom().failure(<span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;boom&quot;</span>));</span><br><span class="line">Multi&lt;Integer&gt; multiFromFailure1 = Multi.createFrom().failure(() -&gt; <span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;boom&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>Unlike <code>Uni</code>, <code>Multi</code> streams don’t send null items (this is forbidden in reactive streams).<br>相反，流发送完成事件，指示没有更多的项要消费。当然，即使没有项，也会发生完成事件，从而创建一个空流。<br>您可以使用以下命令创建这样的流：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Multi&lt;Object&gt; multiFromEmpty = Multi.createFrom().empty();</span><br></pre></td></tr></table></figure>

<h3 id="Creating-Multis-using-an-emitter-advanced"><a href="#Creating-Multis-using-an-emitter-advanced" class="headerlink" title="Creating Multis using an emitter(advanced)"></a>Creating Multis using an emitter(advanced)</h3><p>You can create a <code>Multi</code> using an emitter.<br>This approach is useful when integrating callback-based APIs:<br>发射器也可以发送故障。它还可以收到取消通知，例如停止正在进行的工作。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Multi.createFrom().emitter(emitter -&gt; &#123;</span><br><span class="line">    emitter.emit(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    emitter.emit(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">    emitter.complete();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Creating-Multis-from-ticks-advanced"><a href="#Creating-Multis-from-ticks-advanced" class="headerlink" title="Creating Multis from ticks(advanced)"></a>Creating <code>Multis</code> from ticks(advanced)</h3><p>You can create a stream that emit a ticks periodically:<br>您可以创建定期发出的流：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Multi.createFrom().ticks().every(Duration.ofSeconds(<span class="number">1</span>));</span><br></pre></td></tr></table></figure>

<h3 id="Creating-Multis-from-a-generator-advanced"><a href="#Creating-Multis-from-a-generator-advanced" class="headerlink" title="Creating Multis from a generator (advanced)"></a>Creating <code>Multis</code> from a generator (advanced)</h3><p>You can create a stream from some initial state, and a generator function:<br>您可以从一些初始状态和生成器函数创建流：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Multi.createFrom().generator(() -&gt; <span class="number">1</span>, (n, emitter) -&gt; &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">next</span> <span class="operator">=</span> n + (n / <span class="number">2</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">50</span>)</span><br><span class="line">        emitter.emit(next);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        emitter.complete();</span><br><span class="line">    <span class="keyword">return</span> next;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * The initial state is given through a supplier (here () -&gt; 1). The generator function accepts 2 arguments:</span></span><br><span class="line"><span class="comment"> * 初始状态通过供应商（此处）给出。generator函数接受两个参数：</span></span><br><span class="line"><span class="comment"> * 1.the current state, 当前状态，</span></span><br><span class="line"><span class="comment"> * 2.an emitter that can emit a new item, emit a failure, or emit a completion.</span></span><br><span class="line"><span class="comment"> * 可以发出新项、发出失败或发出完成的发射器。</span></span><br><span class="line"><span class="comment"> * The generator function return value is the next current state. Running the previous example gives the following number suite: &#123;2, 4, 7, 11, 17, 26, 40, 61&#125;.</span></span><br><span class="line"><span class="comment"> * 生成器函数返回值是下一个当前状态。运行上一个示例会得到以下数字组： &#123;2, 4, 7, 11, 17, 26, 40, 61&#125; .</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>

<h2 id="The-invoke-method"><a href="#The-invoke-method" class="headerlink" title="The invoke method"></a>The invoke method</h2><p>The invoke method is synchronous and the passed callback does not return anything. <code>Mutiny</code> invokes the configured callback when the observed stream dispatches the event:<br>invoke方法是同步的，传递的回调不返回任何内容。当观察到的流分派事件时，<code>Mutiny</code>会调用配置的回调：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">multi.onItem()</span><br><span class="line">        .invoke(n -&gt; System.out.println(<span class="string">&quot;响应式流：&quot;</span> + n))</span><br><span class="line">        .subscribe().with(item -&gt; System.out.println(<span class="string">&quot;item = &quot;</span> + item), failure -&gt; System.out.println(<span class="string">&quot;failure = &quot;</span> + failure), () -&gt; System.out.println(<span class="string">&quot;完成&quot;</span>));</span><br></pre></td></tr></table></figure>

<p>如上所述，是同步的。<code>Mutiny</code>调用回调，并在回调返回时将事件向下游传播。它阻止了调度。<br>Of course, we highly recommend you not to block.</p>
<p>The following snippets show how you can log the different types of events.<br>以下代码片段显示了如何记录不同类型的事件。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Multi&lt;Integer&gt; invoke = multi</span><br><span class="line">        .onSubscription()</span><br><span class="line">        .invoke(() -&gt; System.out.println(<span class="string">&quot;⬇️ Subscribed&quot;</span>))</span><br><span class="line">        .onItem()</span><br><span class="line">        .invoke(i -&gt; System.out.println(<span class="string">&quot;⬇️ Received item: &quot;</span> + i))</span><br><span class="line">        .onFailure()</span><br><span class="line">        .invoke(f -&gt; System.out.println(<span class="string">&quot;⬇️ Failed with &quot;</span> + f))</span><br><span class="line">        .onCompletion()</span><br><span class="line">        .invoke(() -&gt; System.out.println(<span class="string">&quot;⬇️ Completed&quot;</span>))</span><br><span class="line">        .onCancellation()</span><br><span class="line">        .invoke(() -&gt; System.out.println(<span class="string">&quot;⬆️ Cancelled&quot;</span>))</span><br><span class="line">        .onRequest()</span><br><span class="line">        .invoke(l -&gt; System.out.println(<span class="string">&quot;⬆️ Requested: &quot;</span> + l));</span><br></pre></td></tr></table></figure>

<p>When observing the failure event, if the callback throws an exception, <code>Mutiny</code> propagates a CompositeException aggregating the original failure and the callback failure.<br>当观察到失败事件时，如果回调抛出异常，则<code>Mutiny</code>会传播一个CompositeException，聚合原始失败和回调失败。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">invoke.subscribe().with(</span><br><span class="line">        item -&gt; System.out.println(<span class="string">&quot;item = &quot;</span> + item),</span><br><span class="line">        failure -&gt; System.out.println(<span class="string">&quot;failure = &quot;</span> + failure),</span><br><span class="line">        () -&gt; System.out.println(<span class="string">&quot;完成&quot;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="The-call-method"><a href="#The-call-method" class="headerlink" title="The call method"></a>The call method</h3><p>Unlike <code>invoke</code>, call is asynchronous, and the callback returns a <code>Uni&lt;?&gt; object</code>.<br>与<code>invoke</code>不同，<code>call</code>是异步的，回调返回一个<code>Uni&lt;?&gt;</code>对象。<br>call is often used when you need to implement asynchronous side-effects, such as closing resources.<br>当您需要实现异步副作用（例如关闭资源）时，通常会使用<code>call</code>。<br>Mutiny does not dispatch the original event downstream until the Uni returned by the callback emits an item:<br>在回调返回的<code>Uni</code>发出项之前，<code>Mutiny</code>不会将原始事件分派到下游：<br>call() 的正常返回值不被使用（只有异常会传播到外部流中），只是用来表示异步操作完成，因此适用于异步的副作用操作，比如关闭资源。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">multi.onItem().call(i -&gt; Uni.createFrom().voidItem()</span><br><span class="line">        .onItem().delayIt().by(Duration.ofMillis(<span class="number">1000</span>))</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>As shown in the previous snippet, you can use this approach to delay items. But, the primary use case is about completing asynchronous actions such as calling an asynchronous close method on a resource:<br>如前面的代码片段所示，您可以使用此方法延迟项。但是，主要用例是完成异步<br>操作，例如在资源上调用异步关闭方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">multi.onCompletion().call(() -&gt; resource.close());</span><br></pre></td></tr></table></figure>

<p>Under the hood, <code>Mutiny</code> gets the <code>Uni</code> (by invoking the callback) and subscribes to it. It observes the item or failure event from that <code>Uni</code>. It discards the item value as only the emission matters in this case.<br>在幕后，<code>Mutiny</code>获取<code>Uni</code>（通过调用回调）并对其进行订阅。它观察来自该<code>Uni</code>的项或失败事件。它丢弃项值，因为在这种情况下只有发射才重要。<br>If the callback throws an exception or the produced <code>Uni</code> produces a failure, <code>Mutiny</code> propagates that failure (or a CompositeException) downstream, replacing the original event.<br>如果回调抛出异常或生成的<code>Uni</code>产生失败，则Mutiny会将该失败（或<code>CompositeException</code>）传播到下游，替换原始事件。</p>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>The <code>invoke</code> and call methods are handy when you need to observe a Uni or a Multi without changing the transiting events.<br>当您需要观察Uni或Multi而不更改传输事件时，<code>invoke</code>和call方法非常方便。<br>The <code>invoke</code> method is synchronous, and the callback does not return anything.<br><code>invoke</code>方法是同步的，回调不返回任何内容。<br>Use <code>invoke</code> for implementing synchronous side-effects or logging events.<br>用于实现同步副作用或记录事件。<br>The asynchronous nature of call makes it perfect for implementing asynchronous side-effects, such as closing resources, flushing data, delay items, and so on.<br><code>call</code>的异步特性使其非常适合实现异步副作用，例如关闭资源、刷新数据、延迟项等。</p>
<p>What if the transformation failed<br>If the transformation throws an exception, that exception is caught and passed to the downstream subscriber as a failure event. It also means that the subscriber won’t get further item after that failure.。<br>如果转换引发异常，则该异常将被捕获并作为失败事件传递给下游订阅者。这也意味着订阅者在此失败之后不会获得更多的项。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Uni.createFrom().item(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">        .onItem().transform(String::toUpperCase)</span><br><span class="line">        .onItem().transform(i -&gt; i + <span class="string">&quot;!&quot;</span>);</span><br></pre></td></tr></table></figure>

<h2 id="Multi-Transforming-an-item-into-a-Uni"><a href="#Multi-Transforming-an-item-into-a-Uni" class="headerlink" title="Multi - Transforming an item into a Uni"></a><code>Multi</code> - Transforming an item into a <code>Uni</code></h2><p>Imagine that you have a <code>Uni&lt;String&gt;</code>, and you want to call a remote service.<br>假设您有一个，并且您想调用一个远程服务。<br>Calling a remote service is an asynchronous action represented by a <code>Uni</code>, as in:<br>调用远程服务是一个异步操作，由表示，如下所示：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Uni&lt;String&gt; <span class="title function_">invokeRemoteGreetingService</span><span class="params">(String name)</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> Uni.createFrom().item(<span class="string">&quot;hello &quot;</span> + name);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;String&gt; <span class="title function_">invokeRemoteGreetingService</span><span class="params">(String name)</span>;</span><br></pre></td></tr></table></figure>

<p>To call this service, you need to transform the item received from the first Uni into the Uni returned by the service:<br>要调用此服务，您需要将从第一个接收到的项转换为服务返回的项：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Uni.createFrom().item(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line">        .onItem().transformToUni(name -&gt; invokeRemoteGreetingService(name))</span><br><span class="line">        .subscribe().with(</span><br><span class="line">                System.out::println,</span><br><span class="line">                failure -&gt; System.out.println(<span class="string">&quot;failure = &quot;</span> + failure));</span><br></pre></td></tr></table></figure>

<h3 id="Uni-Transforming-an-item-into-a-Multi"><a href="#Uni-Transforming-an-item-into-a-Multi" class="headerlink" title="Uni - Transforming an item into a Multi"></a><code>Uni</code> - Transforming an item into a <code>Multi</code></h3><p>将Uni转换为Multi</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Uni&lt;String&gt; uni = Uni.createFrom().item(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">uni.onItem().transformToMulti(name -&gt; Multi.createFrom().items(name.split(<span class="string">&quot;&quot;</span>)));</span><br></pre></td></tr></table></figure>

<h3 id="Transforming-items-from-Multi-the-merge-vs-concatenate-dilemma"><a href="#Transforming-items-from-Multi-the-merge-vs-concatenate-dilemma" class="headerlink" title="Transforming items from Multi - the merge vs concatenate dilemma"></a>Transforming items from <code>Multi</code> - the merge vs concatenate dilemma</h3><p>转换多个项-合并与连接的两难境地<br>合并或者连接，取决于你的需求，其中合并是无序的，连接是串行（有序）的。</p>
<ul>
<li>Merging – it does not preserve the order and emits the items from the produced streams as they come,</li>
<li>合并-它不保留顺序，并在生成的流中发出items</li>
<li>Concatenating – it maintains and concatenates the streams produced for each item</li>
<li>连接-它维护并连接为每个项生成的流</li>
</ul>
<h3 id="Multi-Transforming-an-item-into-a-Uni-1"><a href="#Multi-Transforming-an-item-into-a-Uni-1" class="headerlink" title="Multi- Transforming an item into a Uni"></a><code>Multi</code>- Transforming an item into a <code>Uni</code></h3><p><code>Multi</code>转换为<code>Uni</code><br>To implement the scenario from the last section, you will use<br><code>onItem().transformToUniAndMerge () </code>or<br><code>onItem().transformToUniAndConcatenate() </code>depending on your ordering choice:<br>根据排序选择：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Multi&lt;String&gt; multi1 = Multi.createFrom().items(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>);</span><br><span class="line"></span><br><span class="line">multi1.onItem().transformToUniAndMerge(name-&gt;invokeRemoteGreetingService(name));</span><br><span class="line"></span><br><span class="line">multi1.onItem().transformToUniAndConcatenate(name-&gt;invokeRemoteGreetingService(name));</span><br><span class="line"></span><br><span class="line">Multi - Transforming an item into a Multi</span><br><span class="line">Multi转换为Multi</span><br><span class="line">multi1.onItem().transformToMultiAndMerge(name-&gt;Multi.createFrom().items(name.split(<span class="string">&quot;&quot;</span>)));</span><br><span class="line">multi1.onItem().transformToMultiAndConcatenate(name-&gt;Multi.createFrom().items(name.split(<span class="string">&quot;&quot;</span>)));</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://aojiaoxiaolinlin.github.io">霖霖</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://aojiaoxiaolinlin.github.io/2023/08/03/SmallRye-Mutiny/">https://aojiaoxiaolinlin.github.io/2023/08/03/SmallRye-Mutiny/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://aojiaoxiaolinlin.github.io" target="_blank">霖霖的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B/">响应式编程</a></div><div class="post_share"><div class="social-share" data-image="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/09/24/pattern/" title="设计模式"><img class="cover" src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">设计模式</div></div></a></div><div class="next-post pull-right"><a href="/2023/05/23/lin-chat-gpt/" title="lin-chat-gpt"><img class="cover" src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">lin-chat-gpt</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2023/05/02/a6f2b4f9a3684694824b18892588c9e3file.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">霖霖</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/linlin991229"><i class="fab fa-github"></i><span>github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/linlin991229" target="_blank" title="'#24292e'"><i class="fab fa-github"></i></a><a class="social-icon" href="/1589861957@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">我的博客</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#java%E5%93%8D%E5%BA%94%E5%BC%8F%E7%BC%96%E7%A8%8B%E5%BA%93SmallRye-Mutiny%E5%AD%A6%E4%B9%A0"><span class="toc-number">1.</span> <span class="toc-text">java响应式编程库SmallRye Mutiny学习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAitem"><span class="toc-number">2.</span> <span class="toc-text">创建item</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-Creating-Unis-from-items"><span class="toc-number">2.1.</span> <span class="toc-text">1.Creating Unis from items</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-failing-Unis"><span class="toc-number">2.2.</span> <span class="toc-text">Creating failing Unis</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Creating-Uni-lt-Void-gt"><span class="toc-number">2.2.1.</span> <span class="toc-text">Creating Uni&lt;Void&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#creating-Unis-using-an-emitter"><span class="toc-number">2.2.2.</span> <span class="toc-text">creating Unis using an emitter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Creating-Unis-from-CompletionStage"><span class="toc-number">2.2.3.</span> <span class="toc-text">Creating Unis from CompletionStage</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAitems"><span class="toc-number">3.</span> <span class="toc-text">创建items</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-Multi-pipelines"><span class="toc-number">3.1.</span> <span class="toc-text">Creating Multi pipelines</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-failing-Multis"><span class="toc-number">3.2.</span> <span class="toc-text">Creating failing Multis</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-Multis-using-an-emitter-advanced"><span class="toc-number">3.3.</span> <span class="toc-text">Creating Multis using an emitter(advanced)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-Multis-from-ticks-advanced"><span class="toc-number">3.4.</span> <span class="toc-text">Creating Multis from ticks(advanced)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Creating-Multis-from-a-generator-advanced"><span class="toc-number">3.5.</span> <span class="toc-text">Creating Multis from a generator (advanced)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-invoke-method"><span class="toc-number">4.</span> <span class="toc-text">The invoke method</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#The-call-method"><span class="toc-number">4.1.</span> <span class="toc-text">The call method</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Summary"><span class="toc-number">4.2.</span> <span class="toc-text">Summary</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Multi-Transforming-an-item-into-a-Uni"><span class="toc-number">5.</span> <span class="toc-text">Multi - Transforming an item into a Uni</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Uni-Transforming-an-item-into-a-Multi"><span class="toc-number">5.1.</span> <span class="toc-text">Uni - Transforming an item into a Multi</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Transforming-items-from-Multi-the-merge-vs-concatenate-dilemma"><span class="toc-number">5.2.</span> <span class="toc-text">Transforming items from Multi - the merge vs concatenate dilemma</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Multi-Transforming-an-item-into-a-Uni-1"><span class="toc-number">5.3.</span> <span class="toc-text">Multi- Transforming an item into a Uni</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/06/22/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-Java/" title="设计模式-Java"><img src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-Java"/></a><div class="content"><a class="title" href="/2024/06/22/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-Java/" title="设计模式-Java">设计模式-Java</a><time datetime="2024-06-22T11:05:56.000Z" title="发表于 2024-06-22 19:05:56">2024-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/22/fetch-%E8%8E%B7%E5%8F%96%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE/" title="fetch 获取流式数据"><img src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="fetch 获取流式数据"/></a><div class="content"><a class="title" href="/2024/06/22/fetch-%E8%8E%B7%E5%8F%96%E6%B5%81%E5%BC%8F%E6%95%B0%E6%8D%AE/" title="fetch 获取流式数据">fetch 获取流式数据</a><time datetime="2024-06-22T10:11:21.000Z" title="发表于 2024-06-22 18:11:21">2024-06-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/24/Quarkus%E6%A1%86%E6%9E%B6/" title="Quarkus框架"><img src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Quarkus框架"/></a><div class="content"><a class="title" href="/2023/09/24/Quarkus%E6%A1%86%E6%9E%B6/" title="Quarkus框架">Quarkus框架</a><time datetime="2023-09-24T07:32:11.000Z" title="发表于 2023-09-24 15:32:11">2023-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/24/Nextjs/" title="NextJs"><img src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NextJs"/></a><div class="content"><a class="title" href="/2023/09/24/Nextjs/" title="NextJs">NextJs</a><time datetime="2023-09-24T07:30:51.000Z" title="发表于 2023-09-24 15:30:51">2023-09-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/24/RxJs/" title="RxJs"><img src="https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="RxJs"/></a><div class="content"><a class="title" href="/2023/09/24/RxJs/" title="RxJs">RxJs</a><time datetime="2023-09-24T07:29:01.000Z" title="发表于 2023-09-24 15:29:01">2023-09-24</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://edu-lin-110.oss-cn-chengdu.aliyuncs.com/2022/12/25/285a6096cb9c4f0895ac0b33dede8a559.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 霖霖</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>